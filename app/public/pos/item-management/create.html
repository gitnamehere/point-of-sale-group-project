<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Create</title>
        <link rel="stylesheet" href="create.css">
        
    </head>
    <body>
        <div class="first">
            <div class="general">
                <h1>General Information</h1>
                <label for="name">Product Name:</label>
                <div>
                    <input id="name" type="text" name="name" maxlength="50" />
                </div>
                <label for="description">Description:</label>
                <div>
                    <textarea
                        id="description"
                        name="description"
                    ></textarea>
                </div>
            </div>
            <div class="gallery">
                <h1>Photo Product</h1>
                <label for="image">Insert Image:</label>
                <div class="michael">Michael</div>
            </div>
        </div>

        <div class="second">
            <div class="price">
                <h1>Pricing</h1>
                <label for="price">Base Price:</label>
                <div>
                    <input id="price" type="number" name="price" step="0.01" min="0.00" placeholder="0.00"/>
                </div>
                <label for="discount">Discount Percentage:</label>
                <div>
                    <input id="discount" type="number" name="discount" min="0" placeholder="0"/>
                </div>
            </div>
            <div class="stack">
                <div class="category">
                    <h1>Category</h1>
                    <label for="category">Product Category:</label>
                    <div>
                        <select id="category" name="category"></select>
                    </div>
                </div>
                <div class="create">
                    <button id="submit">Create Item</button>
                </div>
            </div>
        </div>
        
        <div class="third">
            <div class="stack">
                <div class="upload">
                    <h1>Upload Items</h1>
                    <label class="csv" for="csv">Choose CSV File</label>
                    <div>
                        <input type="file" name="csv" id="csv" accept=".csv">
                    </div>
                    <div class="create">
                        <button id="upload">Upload Items</button>
                    </div>
                </div>
                
                
        </div>
        

        <script src="create.js"></script>
        <script type="module">
            import vanillaescsv from 'https://cdn.jsdelivr.net/npm/@vanillaes/csv@3.0.1/+esm'
            </script>

        <script>
            const file = document.getElementById("csv");
            const upload = document.getElementById("upload");

            upload.addEventListener("click", () => {
            const items = vanillaescsv.parse(file);
            console.log(items)
    
//     fetch("/api/item/add", {
//         method: "POST",
//         headers: {
//             "Content-Type": "application/json",
//         },
//         body: JSON.stringify(item),
//     })
//         .then((response) => {
//             response.ok ? alert("Success") : alert("Failure");
//         })
//         .catch((error) => {
//             console.log(error);
//         });
});
        </script>
    </body>
</html>
